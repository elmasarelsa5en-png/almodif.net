// بيانات الحركة النقدية المستوردة من الشيت
export const cashFlowData = [
  { id: 1, date: '14-أغسطس', receipts: 1145, expenses: 120, balance: 1025, notes: 'عهده' },
  { id: 2, date: '15-أغسطس', receipts: 1094, expenses: 0, balance: 2119, notes: '' },
  { id: 3, date: '16-أغسطس', receipts: 1757, expenses: 30, balance: 3846, notes: 'فرق غلط في شقه 206' },
  { id: 4, date: '17-أغسطس', receipts: 1749, expenses: 1500, balance: 4095, notes: 'افتخار' },
  { id: 5, date: '18-أغسطس', receipts: 804, expenses: 1852, balance: 3047, notes: 'باقي حساب افتخار قديم دون فواتير' },
  { id: 6, date: '19-أغسطس', receipts: 1350, expenses: 1000, balance: 3397, notes: 'افتخار' },
  { id: 7, date: '20-أغسطس', receipts: 1670, expenses: 500, balance: 4567, notes: 'سلفه اكرم' },
  { id: 8, date: '21-أغسطس', receipts: 415, expenses: 115, balance: 4867, notes: 'كرات شحن' },
  { id: 9, date: '22-أغسطس', receipts: 1950, expenses: 13, balance: 6804, notes: 'بدل ايجار 206' },
  { id: 10, date: '23-أغسطس', receipts: 0, expenses: 15, balance: 6819, notes: '' },
  { id: 11, date: '24-أغسطس', receipts: 1071, expenses: 500, balance: 7390, notes: 'موى - فواتير باقيه' },
  { id: 12, date: '25-أغسطس', receipts: 1055, expenses: 854, balance: 7591, notes: 'فواتير افتخار' },
  { id: 13, date: '26-أغسطس', receipts: 2639, expenses: 37.5, balance: 10192.5, notes: 'فاتورة افتخار' },
  { id: 14, date: '27-أغسطس', receipts: 960, expenses: 540, balance: 10612.5, notes: 'روائع القمه' },
  { id: 15, date: '28-أغسطس', receipts: 2500, expenses: 3600, balance: 9512.5, notes: 'راتب فهد' },
  { id: 16, date: '29-أغسطس', receipts: 230, expenses: 1500, balance: 8242.5, notes: 'راتب عبدالحميد' },
  { id: 17, date: '30-أغسطس', receipts: 700, expenses: 1700, balance: 7242.5, notes: 'راتب منذر' },
  { id: 18, date: '31-أغسطس', receipts: 48, expenses: 1300, balance: 5990.5, notes: 'راتب مصطفي' },
  { id: 19, date: '01-سبتمبر', receipts: 1465, expenses: 0, balance: 7455.5, notes: '' },
  { id: 20, date: '02-سبتمبر', receipts: 1061, expenses: 0, balance: 8516.5, notes: '' },
  { id: 21, date: '03-سبتمبر', receipts: 704, expenses: 0, balance: 9220.5, notes: '' },
  { id: 22, date: '04-سبتمبر', receipts: 240, expenses: 0, balance: 9460.5, notes: '' },
  { id: 23, date: '05-سبتمبر', receipts: 600, expenses: 0, balance: 10060.5, notes: '' },
  { id: 24, date: '06-سبتمبر', receipts: 19, expenses: 6, balance: 10073.5, notes: 'بدل ايجار 305' },
  { id: 25, date: '08-سبتمبر', receipts: 700, expenses: 100, balance: 10673.5, notes: 'بدل ايجار شقه 506' },
  { id: 26, date: '09-سبتمبر', receipts: 200, expenses: 0, balance: 10873.5, notes: '' },
  { id: 27, date: '10-سبتمبر', receipts: 5, expenses: 0, balance: 10878.5, notes: '' },
  { id: 28, date: '11-سبتمبر', receipts: 512, expenses: 0, balance: 11390.5, notes: '' },
  { id: 29, date: '12-سبتمبر', receipts: 51, expenses: 0, balance: 11441.5, notes: '' },
  { id: 30, date: '13-سبتمبر', receipts: 1010, expenses: 0, balance: 12451.5, notes: '' },
  { id: 31, date: '14-سبتمبر', receipts: 700, expenses: 0, balance: 13151.5, notes: '' },
  { id: 32, date: '15-سبتمبر', receipts: 3, expenses: 0, balance: 13154.5, notes: '' },
  { id: 33, date: '18-سبتمبر', receipts: 1000, expenses: 0, balance: 14154.5, notes: '' },
  { id: 34, date: '19-سبتمبر', receipts: 1024, expenses: 0, balance: 15178.5, notes: '' },
  { id: 35, date: '20-سبتمبر', receipts: 500, expenses: 0, balance: 15678.5, notes: '' },
  { id: 36, date: '21-سبتمبر', receipts: 0, expenses: 500, balance: 15178.5, notes: 'سلفة اكرم' },
  { id: 37, date: '22-سبتمبر', receipts: 0, expenses: 100, balance: 15078.5, notes: 'بدل ايجار شقة 308' },
  { id: 38, date: '23-سبتمبر', receipts: 920, expenses: 5, balance: 15993.5, notes: 'بدل ايجار شقة 204' },
  { id: 39, date: '24-سبتمبر', receipts: 16, expenses: 500, balance: 15509.5, notes: 'موى' },
  { id: 40, date: '25-سبتمبر', receipts: 215, expenses: 0, balance: 15724.5, notes: '' },
  { id: 41, date: '26-سبتمبر', receipts: 110, expenses: 0, balance: 15834.5, notes: '' },
  { id: 42, date: '28-سبتمبر', receipts: 7, expenses: 0, balance: 15841.5, notes: '' },
  { id: 43, date: '30-سبتمبر', receipts: 0, expenses: 3795, balance: 12046.5, notes: 'راتب فهد مع اوفر تايم يوم وطنى مع ساعه' },
  { id: 44, date: '01-أكتوبر', receipts: 100, expenses: 1300, balance: 10846.5, notes: 'راتب مصطفي' },
  { id: 45, date: '02-أكتوبر', receipts: 700, expenses: 1700, balance: 9846.5, notes: 'راتب منذر' },
  { id: 46, date: '03-أكتوبر', receipts: 4, expenses: 0, balance: 9850.5, notes: '' },
  { id: 47, date: '04-أكتوبر', receipts: 0, expenses: 160, balance: 9690.5, notes: 'بدل ايجار شقة 501' },
  { id: 48, date: '05-أكتوبر', receipts: 0, expenses: 1500, balance: 8190.5, notes: 'افتخار' },
  { id: 49, date: '06-أكتوبر', receipts: 1035, expenses: 1250, balance: 7975.5, notes: 'فواتير افتخار' }
];

// بيانات بدل الإيجار
export const rentSubsidyData = [
  { date: '22/08/2025', apartment: '206', amount: 13 },
  { date: '06/09/2025', apartment: '305', amount: 6 },
  { date: '08/09/2025', apartment: '506', amount: 100 },
  { date: '22/09/2025', apartment: '308', amount: 100 },
  { date: '24/09/2025', apartment: '204', amount: 5 },
  { date: '07/10/2025', apartment: '501', amount: 160 }
];

// التقرير الشهري
export const monthlyReport = {
  august: 21152,
  september: 11062,
  october: 1839,
  november: 0,
  december: 0,
  january: 0,
  february: 0,
  march: 0,
  april: 0,
  may: 0,
  june: 0,
  july: 0
};

// الإحصائيات المحسوبة
export const cashFlowStats = {
  totalReceipts: cashFlowData.reduce((sum, item) => sum + item.receipts, 0),
  totalExpenses: cashFlowData.reduce((sum, item) => sum + item.expenses, 0),
  finalBalance: 7975.5,
  entriesCount: cashFlowData.length,
  netFlow: cashFlowData.reduce((sum, item) => sum + (item.receipts - item.expenses), 0),
  averageDaily: cashFlowData.length > 0 ? cashFlowData.reduce((sum, item) => sum + (item.receipts - item.expenses), 0) / cashFlowData.length : 0
};

// تصنيف المعاملات
export const transactionCategories = {
  income: [
    'إيرادات الغرف',
    'خدمات إضافية', 
    'المطعم',
    'الغسيل',
    'إيجارات',
    'أخرى'
  ],
  expense: [
    'رواتب',
    'فواتير',
    'صيانة',
    'تنظيف',
    'إيجارات',
    'مصروفات عامة',
    'أخرى'
  ]
};

// دالة للحصول على معاملات الفترة المحددة
export const getTransactionsByPeriod = (startDate: string, endDate: string) => {
  return cashFlowData.filter(item => {
    // تحويل التاريخ العربي إلى تاريخ قابل للمقارنة
    const itemDateFormatted = convertArabicDateToEnglish(item.date);
    return itemDateFormatted >= startDate && itemDateFormatted <= endDate;
  });
};

// دالة مساعدة لتحويل التاريخ العربي إلى إنجليزي
export const convertArabicDateToEnglish = (arabicDate: string): string => {
  const monthMap: { [key: string]: string } = {
    'يناير': '01',
    'فبراير': '02', 
    'مارس': '03',
    'أبريل': '04',
    'مايو': '05',
    'يونيو': '06',
    'يوليو': '07',
    'أغسطس': '08',
    'سبتمبر': '09',
    'أكتوبر': '10',
    'نوفمبر': '11',
    'ديسمبر': '12'
  };

  const [day, month] = arabicDate.split('-');
  const monthNumber = monthMap[month];
  const year = '2025'; // افتراض السنة

  return `${year}-${monthNumber}-${day.padStart(2, '0')}`;
};

// دالة للحصول على إحصائيات شهر معين
export const getMonthlyStats = (month: string) => {
  const monthTransactions = cashFlowData.filter(item => item.date.includes(month));
  
  return {
    receipts: monthTransactions.reduce((sum, item) => sum + item.receipts, 0),
    expenses: monthTransactions.reduce((sum, item) => sum + item.expenses, 0),
    netFlow: monthTransactions.reduce((sum, item) => sum + (item.receipts - item.expenses), 0),
    transactionCount: monthTransactions.length,
    averageDaily: monthTransactions.length > 0 ? 
      monthTransactions.reduce((sum, item) => sum + (item.receipts - item.expenses), 0) / monthTransactions.length : 0
  };
};

export default {
  cashFlowData,
  rentSubsidyData,
  monthlyReport,
  cashFlowStats,
  transactionCategories,
  getTransactionsByPeriod,
  convertArabicDateToEnglish,
  getMonthlyStats
};