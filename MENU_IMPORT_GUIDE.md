# 📋 دليل استيراد الأصناف - Menu Import Guide

## 🎯 Overview | نظرة عامة

نظام استيراد احترافي للأصناف يدعم طريقتين:
1. **رفع ملف Excel** - لإضافة عدد كبير من الأصناف دفعة واحدة
2. **مسح صورة بالـ OCR** - لاستخراج الأصناف من صور المينيو

---

## 📊 طريقة 1: رفع ملف Excel

### تنسيق الملف المطلوب

قم بإنشاء ملف Excel (.xlsx أو .xls) بالأعمدة التالية:

| الاسم | السعر | الفئة | التصنيف الفرعي | الوصف | الصورة |
|-------|-------|-------|----------------|--------|--------|
| شاي | 5.00 | coffee | مشروبات ساخنة | شاي طازج | https://... |
| برجر لحم | 35.00 | restaurant | أطباق رئيسية | برجر بقري فاخر | https://... |
| غسيل ثوب | 15.00 | laundry | ملابس | غسيل وكي ثوب رجالي | https://... |

### الأعمدة المطلوبة

#### ✅ إلزامية:
- **الاسم** أو **اسم الصنف** أو **nameAr**: اسم الصنف بالعربي
- **السعر** أو **Price** أو **price**: سعر الصنف (رقم)

#### 🔷 اختيارية:
- **الفئة** أو **Category**: coffee أو restaurant أو laundry
  - *ملاحظة: إذا لم تحدد، سيتم التصنيف تلقائياً حسب الاسم*
- **التصنيف الفرعي** أو **SubCategory**: التصنيف الفرعي (مثل: مشروبات ساخنة، أطباق رئيسية)
- **الوصف** أو **Description**: وصف مختصر للصنف
- **الصورة** أو **Image**: رابط صورة الصنف
- **Name**: اسم الصنف بالإنجليزي (اختياري)

### التصنيف التلقائي الذكي 🤖

النظام يصنف الأصناف تلقائياً حسب الكلمات المفتاحية:

#### ☕ كوفي شوب (Coffee):
- شاي، قهوة، كابتشينو، لاتيه، اسبريسو
- عصير، مشروب، ساخن، بارد
- كيك، كرواسون، دونت

#### 🍽️ مطعم (Restaurant):
- برجر، بيتزا، مكرونة، باستا
- دجاج، لحم، سمك
- سلطة، شوربة، مقبلات، طبق
- رز، كبسة، مندي

#### 👕 مغسلة (Laundry):
- غسيل، كوي، تنظيف
- ثوب، بنطلون، قميص، فستان
- ملابس، مفرش، ستارة، سجاد

### مثال عملي

```excel
الاسم          | السعر | الفئة      | التصنيف الفرعي    | الوصف
---------------|-------|------------|-------------------|------------------
شاي أخضر      | 8.00  | coffee     | مشروبات ساخنة    | شاي أخضر طبيعي
كابتشينو       | 12.00 | coffee     | مشروبات ساخنة    | كابتشينو إيطالي
برجر دجاج      | 28.00 | restaurant | أطباق رئيسية     | برجر دجاج مشوي
سلطة سيزر      | 18.00 | restaurant | سلطات            | سلطة سيزر كلاسيك
غسيل بنطلون    | 10.00 | laundry    | ملابس            | غسيل وكي
كوي قميص       | 8.00  | laundry    | ملابس            | كوي قميص
```

### خطوات الاستيراد

1. قم بإعداد ملف Excel بالتنسيق الموضح أعلاه
2. افتح صفحة "قوائم الأصناف" من القائمة الجانبية
3. اضغط على زر "رفع ملف"
4. اختر "ملف Excel"
5. حدد الملف من جهازك
6. انتظر المعالجة (سيظهر شريط التقدم)
7. راجع الأصناف المستخرجة
8. اضغط "حفظ جميع الأصناف"

---

## 📸 طريقة 2: مسح صورة المينيو (OCR)

### نصائح للحصول على أفضل النتائج

#### ✅ افعل:
- استخدم صورة واضحة وعالية الجودة (2MB+)
- تأكد من إضاءة جيدة ومتساوية
- صور المينيو بشكل مستقيم (90 درجة)
- استخدم خلفية واضحة أو كونتراست عالي
- تأكد من وضوح الأسعار والنصوص

#### ❌ تجنب:
- الصور الباهتة أو الغامقة
- الظلال القوية على النص
- الصور المائلة أو المشوهة
- الانعكاسات الضوئية على الورق
- الصور ذات الدقة المنخفضة

### التنسيق المدعوم

النظام يتعرف على الأنماط التالية:
```
شاي أخضر .................. 8 ر.س
كابتشينو .................. 12.00 ريال
برجر دجاج ................ 28 SAR
سلطة سيزر ................ 18.00
غسيل بنطلون .............. 10 SR
```

### خطوات المسح

1. افتح صفحة "قوائم الأصناف"
2. اضغط على زر "رفع ملف"
3. اختر "صورة المينيو"
4. التقط صورة أو اختر من المعرض
5. انتظر المعالجة (قد تستغرق 30-60 ثانية)
6. سيظهر لك:
   - معاينة الصورة
   - النصوص المستخرجة
   - عدد الأصناف المكتشفة
7. راجع الأصناف وتأكد من الأسعار
8. اضغط "حفظ جميع الأصناف"

### دقة التعرف على النص

- **اللغة العربية**: دقة 85-95%
- **اللغة الإنجليزية**: دقة 90-98%
- **الأرقام (الأسعار)**: دقة 95-99%

---

## 🎨 مميزات النظام

### ✨ التصنيف الذكي التلقائي
- يحدد الفئة (كوفي/مطعم/مغسلة) تلقائياً
- يقترح التصنيف الفرعي المناسب
- يدعم اللغة العربية والإنجليزية

### 📊 معاينة قبل الحفظ
- عرض جميع الأصناف المستخرجة
- إمكانية المراجعة والتعديل
- رؤية واضحة للفئات والأسعار

### 🚀 معالجة سريعة
- Excel: معالجة فورية (ثواني)
- OCR: 30-60 ثانية حسب حجم الصورة
- شريط تقدم حي أثناء المعالجة

### 💾 حفظ تلقائي منظم
- يحفظ كل فئة في المكان الصحيح
- Coffee → coffee_menu
- Restaurant → restaurant_menu
- Laundry → laundry_services

---

## ⚠️ استكشاف الأخطاء

### Excel لا يعمل؟
- تأكد من امتداد الملف (.xlsx أو .xls)
- تحقق من أسماء الأعمدة
- تأكد من أن الأسعار أرقام وليست نصوص
- حاول حذف الصفوف الفارغة

### OCR لا يكتشف الأصناف؟
- استخدم صورة أوضح
- تأكد من وضوح الأسعار
- جرب تحسين الإضاءة
- صور المينيو بشكل مستقيم
- استخدم خلفية ذات تباين عالي

### الأصناف في الفئة الخاطئة؟
- راجع الكلمات المفتاحية للتصنيف
- حدد الفئة يدوياً في ملف Excel
- عدّل الصنف بعد الاستيراد

---

## 📞 الدعم الفني

للمساعدة أو الاستفسارات:
- راجع صفحة "قوائم الأصناف" في النظام
- تأكد من تحديث المتصفح لآخر إصدار
- امسح cache المتصفح إذا واجهت مشاكل

---

## 🎓 أمثلة عملية

### مثال 1: كوفي شوب صغير
```excel
الاسم          | السعر
---------------|-------
شاي           | 5
قهوة عربي      | 7
كابتشينو       | 12
لاتيه          | 14
عصير برتقال    | 10
كرواسون       | 8
```
سيتم تصنيف الكل تحت "كوفي شوب" تلقائياً

### مثال 2: مطعم متنوع
```excel
الاسم                  | السعر | التصنيف الفرعي
----------------------|-------|------------------
برجر لحم              | 35    | أطباق رئيسية
بيتزا مارجريتا        | 40    | أطباق رئيسية
سلطة يونانية          | 18    | سلطات
شوربة عدس             | 12    | مقبلات
```
سيتم تصنيف الكل تحت "مطعم" تلقائياً

### مثال 3: مغسلة
```excel
الاسم               | السعر
--------------------|-------
غسيل ثوب           | 15
كوي قميص           | 8
غسيل بنطلون        | 10
تنظيف ستارة        | 30
كوي مفرش           | 12
```
سيتم تصنيف الكل تحت "مغسلة" تلقائياً

---

## 🎯 نصائح للاحتراف

1. **نظم ملفاتك**: استخدم ملف Excel منفصل لكل فئة
2. **أضف الصور**: رفع رابط الصورة يجعل العرض احترافي
3. **استخدم الوصف**: أضف وصف جذاب لزيادة المبيعات
4. **راجع الأسعار**: تحقق من الأسعار قبل الحفظ
5. **حدّث دورياً**: استيراد الأصناف الجديدة بانتظام

---

✅ **تم التطوير والاختبار بنجاح**
📅 **تاريخ التحديث**: أكتوبر 2025
🚀 **الحالة**: جاهز للاستخدام الفوري
