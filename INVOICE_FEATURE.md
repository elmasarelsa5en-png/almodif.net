# ููุฒุฉ ุงูููุงุชูุฑ ุงูุฅููุชุฑูููุฉ - ุชุทุจูู ุงููุถูู ุงูุฐูู

## ๐ ูุธุฑุฉ ุนุงูุฉ

ุชู ุชูุนูู ููุฒุฉ ุงูููุงุชูุฑ ุงูุฅููุชุฑูููุฉ ูู ุชุทุจูู ุงูุถูู ูุน ุฏุนู ูุงูู ููุนุงููุฑ ููุฆุฉ ุงูุฒูุงุฉ ูุงูุฏุฎู ุงูุณุนูุฏูุฉ.

## โจ ุงูููุฒุงุช ุงูุฑุฆูุณูุฉ

### 1. ุชูููุฏ ุงูููุงุชูุฑ ุงูุชููุงุฆู
- **QR Code ููุฒูุงุฉ ูุงูุฏุฎู**: ููุงุชูุฑ ูุชูุงููุฉ ูุน ูุธุงู ZATCA
- **ุดุนุงุฑ ุงูููุฏู**: ูุธูุฑ ุดุนุงุฑ ุงูููุฏู ุนูู ูู ูุงุชูุฑุฉ
- **ุญุณุงุจ ุถุฑูุจุฉ ุงููููุฉ ุงููุถุงูุฉ**: ุญุณุงุจ ุชููุงุฆู ุจูุณุจุฉ 15%
- **ูุนูููุงุช ูุงููุฉ**: ุฑูู ุถุฑูุจูุ ุณุฌู ุชุฌุงุฑูุ ุจูุงูุงุช ุงูููุฏู

### 2. ุงูุฃูุณุงู ุงููุชุงุญุฉ

#### ๐จ ุตูุญุฉ ุงูุญุฌูุฒุงุช (`/guest-app/my-bookings`)
- ุฒุฑ "ุชุญููู ุงููุงุชูุฑุฉ" ููู ุญุฌุฒ
- ุชูุงุตูู ุงูุฅูุงูุฉ ุงููุงููุฉ
- ุญุณุงุจ ุนุฏุฏ ุงูููุงูู ุชููุงุฆูุงู
- ุนุฑุถ ุงููุจูุบ ูุจู ูุจุนุฏ ุงูุถุฑูุจุฉ

#### ๐๏ธ ุตูุญุฉ ุงูุทูุจุงุช (`/guest-app/my-orders`)
- ููุงุชูุฑ ููุทูุจุงุช ุงูููุชููุฉ (Delivered)
- ุชูุงุตูู ุงูููุชุฌุงุช ุงููุทููุจุฉ
- ุฏุนู ุฃููุงุน ูุฎุชููุฉ (ูุทุนูุ ููููุ ูุบุณูุฉุ ุฎุฏูุฉ ุบุฑู)

### 3. ุชูุณูู ุงูููุงุชูุฑ

#### ูุนูููุงุช ุงููุงุชูุฑุฉ
```
- ุฑูู ุงููุงุชูุฑุฉ (Invoice Number)
- ุชุงุฑูุฎ ุงูุฅุตุฏุงุฑ
- ุฑูู ุงูุฎุฏูุฉ/ุงูุญุฌุฒ
- ุทุฑููุฉ ุงูุฏูุน
```

#### ูุนูููุงุช ุงูุนููู
```
- ุงุณู ุงูุดุฑูุฉ/ุงูุถูู
- ุฑูู ุงูุบุฑูุฉ
- ุฑูู ุงููุงุชู
- ุงูุฑูู ุงูุถุฑูุจู
```

#### ูุนูููุงุช ุงูููุฏู
```
- ุงูุงุณู: ุงููุถูู ุณูุงุฑุช ูุฅุฏุงุฑุฉ ุงูููุงุฏู ูุงูููุชุฌุนุงุช
- ุงูุนููุงู: ุฃุจูุงุ ุดุงุฑุน ุงูุนุฑูู
- ุงููุงุชู: +966559902557
- ุงูุจุฑูุฏ: akramabdelaziz1992@gmail.com
- ุงูุฑูู ุงูุถุฑูุจู: 300092095780003
- ุงูุณุฌู ุงูุชุฌุงุฑู: 7017845756
```

#### QR Code ููุฒูุงุฉ ูุงูุฏุฎู
ูุญุชูู QR Code ุนูู:
1. ุงุณู ุงูุจุงุฆุน (ุงูููุฏู)
2. ุงูุฑูู ุงูุถุฑูุจู
3. ุชุงุฑูุฎ ุงููุงุชูุฑุฉ (ISO Format)
4. ุงููุจูุบ ุงูุฅุฌูุงูู ุดุงูู ุงูุถุฑูุจุฉ
5. ูููุฉ ุถุฑูุจุฉ ุงููููุฉ ุงููุถุงูุฉ

**ุชูุณูู TLV (Tag-Length-Value)**:
```
Tag 1: Seller Name
Tag 2: VAT Registration Number
Tag 3: Timestamp
Tag 4: Invoice Total
Tag 5: VAT Amount
```

## ๐ง ุงููููุงุช ุงููุนุฏูุฉ

### 1. ููุชุจุฉ ุชูููุฏ ุงูููุงุชูุฑ
**ุงูููู**: `src/lib/invoice-generator.ts`

**ุงููุธุงุฆู ุงูุฑุฆูุณูุฉ**:
```typescript
// ุชูููุฏ QR Code ูุชูุงูู ูุน ุงูุฒูุงุฉ ูุงูุฏุฎู
generateZatcaQRCode(invoice: InvoiceData): string

// ุทุจุงุนุฉ ุงููุงุชูุฑุฉ
generateAndPrintInvoice(invoice: InvoiceData): void

// ุญุณุงุจ ุถุฑูุจุฉ ุงููููุฉ ุงููุถุงูุฉ
calculateVAT(amountBeforeTax: number, vatRate?: number): {
  taxAmount: number;
  amountAfterTax: number;
}
```

**ูุงุฌูุฉ ุงูุจูุงูุงุช**:
```typescript
interface InvoiceData {
  id?: string;
  number: string;
  date: string;
  customerName: string;
  phone?: string;
  room?: string;
  description: string;
  amountBeforeTax: number;
  taxAmount: number;
  amountAfterTax: number;
  taxNumber?: string;
  paymentType?: string;
  bookingId?: string;
  roomNights?: number;
  hotelName?: string;
  hotelAddress?: string;
  hotelPhone?: string;
  hotelEmail?: string;
  hotelLogo?: string;
  hotelVAT?: string;
  hotelCR?: string;
}
```

### 2. ุตูุญุฉ ุงูุญุฌูุฒุงุช
**ุงูููู**: `src/app/guest-app/my-bookings/page.tsx`

**ุงูุชุนุฏููุงุช**:
- ุฅุถุงูุฉ import ููููุชุจุฉ
- ุฏุงูุฉ `handleDownloadInvoice` ูุชูููุฏ ุงููุงุชูุฑุฉ
- ุญุณุงุจ ุงููุจูุบ ูุจู ุงูุถุฑูุจุฉ ูู ุงููุจูุบ ุงูููู
- ุญุณุงุจ ุนุฏุฏ ุงูููุงูู ุชููุงุฆูุงู
- ุฑุจุท ุฒุฑ "ุชุญููู ุงููุงุชูุฑุฉ" ุจุงูุฏุงูุฉ

### 3. ุตูุญุฉ ุงูุทูุจุงุช
**ุงูููู**: `src/app/guest-app/my-orders/page.tsx`

**ุงูุชุนุฏููุงุช**:
- ุฅุถุงูุฉ import ููููุชุจุฉ
- ุฏุงูุฉ `handleDownloadInvoice` ููุทูุจุงุช
- ุจูุงุก ูุตู ุชูุตููู ููููุชุฌุงุช
- ุชุฑุฌูุฉ ุฃููุงุน ุงูุทูุจุงุช ููุนุฑุจูุฉ
- ุชูุนูู ุงูุฒุฑ ููุทูุจุงุช ุงูููุชููุฉ ููุท

## ๐จ ุงูุชุตููู

### ุฃููุงู ุงูุฃุฒุฑุงุฑ
- **ุฒุฑ ุงููุงุชูุฑุฉ**: `from-amber-500 to-purple-500`
- **ุชุฃุซูุฑ Hover**: `from-amber-600 to-purple-600`
- **ุงูููู**: ุฃุจูุถ ูุน ุธู

### ุชูุณูู ุงููุงุชูุฑุฉ PDF
- **ุงูุฎุท**: Segoe UI, Tahoma, Geneva, Verdana
- **ุงูููุงุณ**: A4 (210mm ร 297mm)
- **ุงูุงุชุฌุงู**: RTL (ูู ุงููููู ูููุณุงุฑ)
- **ุงูุฃููุงู**: 
  - ุฑุฆูุณู: `#667eea` โ `#764ba2` (Gradient)
  - ุฎูููุงุช: `#f0f4ff` โ `#e9d5ff`

### ุงูุนูุงุตุฑ ุงููุฑุฆูุฉ
1. **ุงูุดุนุงุฑ**: ุฏุงุฆุฑู ูู ุงูููุชุตู ูุน gradient ุฃุฒุฑู
2. **QR Code**: ุฅุทุงุฑ gradient ูุน ุธู
3. **ุงูุฌุฏุงูู**: ุญุฏูุฏ ูุฎูููุงุช gradient
4. **ุงูุดุฑูุท ุงูุถุฑูุจู**: gradient ูุน ุฃููููุงุช
5. **Footer**: ูุนูููุงุช ุงูุงุชุตุงู

## ๐ฑ ููููุฉ ุงูุงุณุชุฎุฏุงู

### ููุถููู

#### 1. ุชุญููู ูุงุชูุฑุฉ ุญุฌุฒ
1. ุณุฌู ุงูุฏุฎูู ูุชุทุจูู ุงูุถูู
2. ุงุฐูุจ ุฅูู "ุญุฌูุฒุงุชู"
3. ุงุถุบุท ุนูู ุฒุฑ "ุชุญููู ุงููุงุชูุฑุฉ" ูุฃู ุญุฌุฒ
4. ุณุชูุชุญ ูุงูุฐุฉ ุฌุฏูุฏุฉ ูุน ุงููุงุชูุฑุฉ
5. ุงุถุบุท ุนูู "ุทุจุงุนุฉ ุงููุงุชูุฑุฉ" ุฃู Ctrl+P

#### 2. ุชุญููู ูุงุชูุฑุฉ ุทูุจ
1. ุงุฐูุจ ุฅูู "ุทูุจุงุชู"
2. ุงุจุญุซ ุนู ุทูุจ ุจุญุงูุฉ "ุชู ุงูุชุณููู"
3. ุงุถุบุท ุนูู ุฒุฑ "ุงููุงุชูุฑุฉ"
4. ุณุชูุชุญ ูุงูุฐุฉ ุงูุทุจุงุนุฉ

### ููุฅุฏุงุฑุฉ
- ููุณ ุงููุธุงู ูุชุงุญ ูู `/dashboard/accounting/invoices`
- ุฅููุงููุฉ ุทุจุงุนุฉ ุฌููุน ุงูููุงุชูุฑ ุฏูุนุฉ ูุงุญุฏุฉ
- ุงุณุชูุฑุงุฏ ูู Excel
- ูุณุญ ุงูููุงุชูุฑ ุจุงููุงููุฑุง (OCR)

## ๐ ุงูุฃูุงู ูุงูุฎุตูุตูุฉ

### ุจูุงูุงุช ุงููุงุชูุฑุฉ
- ูุง ูุชู ุชุฎุฒูู ุงูููุงุชูุฑ ุนูู ุงูุฎุงุฏู
- ุงูุชูููุฏ ูุชู ูู ุงููุชุตูุญ (Client-Side)
- ูููู ููุถูู ุชุญููููุง ูู ุฃู ููุช

### QR Code
- ูุดูุฑ Base64
- ูุญุชูู ููุท ุนูู ุงูุจูุงูุงุช ุงูุถุฑูุจูุฉ ุงูุฃุณุงุณูุฉ
- ูุชูุงูู ูุน ุชุทุจูู ููุฆุฉ ุงูุฒูุงุฉ ูุงูุฏุฎู

## ๐ ุงูุชุญุฏูุซุงุช ุงููุณุชูุจููุฉ

### ูุฑูุจุงู
- [ ] ุฅุฑุณุงู ุงููุงุชูุฑุฉ ุนุจุฑ ุงูุจุฑูุฏ ุงูุฅููุชุฑููู
- [ ] ุฅุฑุณุงู ุงููุงุชูุฑุฉ ุนุจุฑ ูุงุชุณุงุจ
- [ ] ุญูุธ ุงูููุงุชูุฑ ูู Firebase Storage
- [ ] ุฅุญุตุงุฆูุงุช ุงูููุงุชูุฑ ุงูุตุงุฏุฑุฉ
- [ ] ุฏุนู ุนููุงุช ุฃุฎุฑู

### ููุชุฑุญุงุช
- [ ] ููุงุชูุฑ ูุชุนุฏุฏุฉ ุงููุบุงุช (ุนุฑุจู/ุฅูุฌููุฒู)
- [ ] ุชุฎุตูุต ูุงูุจ ุงููุงุชูุฑุฉ
- [ ] ุฅุถุงูุฉ ุงูุดุฑูุท ูุงูุฃุญูุงู
- [ ] ุฎุชู ุฑููู ูููุงุชูุฑุฉ

## ๐ ุงูุฃุฎุทุงุก ุงููุนุฑููุฉ

### ุชู ุงูุญู
โ ุชูุฑุงุฑ ุงูููุฏ ูู my-bookings  
โ ุฎุทุฃ ูู ุจููุฉ JSX  
โ ูุดููุฉ ุญุณุงุจ ุงูุถุฑูุจุฉ  

### ููุฏ ุงููุชุงุจุนุฉ
- ูุง ููุฌุฏ

## ๐ ุงูุฏุนู ุงูููู

ูุฃู ุงุณุชูุณุงุฑุงุช ุฃู ูุดุงูู:
- **ุงูุจุฑูุฏ**: akramabdelaziz1992@gmail.com
- **ุงููุงุชู**: +966559902557

## ๐ ุงูุชุฑุฎูุต

ูุฐู ุงูููุฒุฉ ุฌุฒุก ูู ูุธุงู ุงููุถูู ุงูุฐูู - ุฌููุน ุงูุญููู ูุญููุธุฉ ยฉ 2025

---

**ุขุฎุฑ ุชุญุฏูุซ**: 31 ุฃูุชูุจุฑ 2025  
**ุงูุฅุตุฏุงุฑ**: 1.0.0  
**ุงููุทูุฑ**: ูุฑูู ุงููุถูู ุงูุฐูู
