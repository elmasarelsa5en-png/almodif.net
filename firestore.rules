rules_version = '2';

service cloud.firestore {
  match /databases/{database}/documents {
    // قواعد للمستخدمين - يمكن للمستخدمين المصادق عليهم قراءة وكتابة بياناتهم الخاصة
    match /users/{userId} {
      allow read, write: if request.auth != null && request.auth.uid == userId;
    }

    // قواعد للغرف - يمكن للجميع القراءة والكتابة (للتطوير)
    // في الإنتاج: استخدم authentication
    match /hotel_rooms/{roomId} {
      allow read, write: if true;
    }
    
    // Collection القديمة
    match /rooms/{roomId} {
      allow read, write: if true;
    }

    // قواعد للحجوزات - الكل يقدر يقرأ ويكتب (للتطوير)
    match /bookings/{bookingId} {
      allow read, write: if true;
    }

    // قواعد للعملاء - الكل يقدر يقرأ ويكتب (للتطوير)
    match /guests/{guestId} {
      allow read, write: if true;
    }

    // قواعد للفواتير - الكل يقدر يقرأ ويكتب (للتطوير)
    match /invoices/{invoiceId} {
      allow read, write: if true;
    }

    // قواعد للمدفوعات - الكل يقدر يقرأ ويكتب (للتطوير)
    match /payments/{paymentId} {
      allow read, write: if true;
    }

    // قواعد للإعدادات - الكل يقدر يقرأ ويكتب (للتطوير)
    match /settings/{settingId} {
      allow read, write: if true;
    }

    // قواعد للإشعارات - الكل يقدر يقرأ ويكتب (للتطوير)
    match /notifications/{notificationId} {
      allow read, write: if true;
    }

    // قواعد لطلبات النزلاء - الكل يقدر يقرأ ويكتب (للتطوير)
    match /guestRequests/{requestId} {
      allow read, write: if true;
    }
    
    // اسم بديل للمجموعة (guest-requests)
    match /guest-requests/{requestId} {
      allow read, write: if true;
    }
    
    // مجموعات إضافية للخدمات
    match /employees/{employeeId} {
      allow read, write: if true;
    }
    
    match /coffee-orders/{orderId} {
      allow read, write: if true;
    }
    
    match /laundry-requests/{requestId} {
      allow read, write: if true;
    }
    
    match /restaurant-orders/{orderId} {
      allow read, write: if true;
    }
    
    match /audit-log/{logId} {
      allow read, write: if true;
    }
    
    match /sound-settings/{settingId} {
      allow read, write: if true;
    }
    
    match /request-types/{typeId} {
      allow read, write: if true;
    }

    // قاعدة عامة للمستندات غير المحددة - محظورة
    match /{document=**} {
      allow read, write: if false;
    }
  }
}