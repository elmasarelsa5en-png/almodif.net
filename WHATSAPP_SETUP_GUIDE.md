# ๐ ูุธุงู ุฑุจุท WhatsApp Web - ุฏููู ุงูุชุดุบูู

## ๐ ุงููุชุทูุจุงุช

- Node.js 16 ุฃู ุฃุญุฏุซ
- npm ุฃู yarn
- Google Chrome/Chromium (ููุซุจุช ุชููุงุฆูุงู ูุน puppeteer)

## โ๏ธ ุงูุชุซุจูุช

### 1. ุชุซุจูุช ููุชุจุงุช ุงูุณูุฑูุฑ

```bash
cd server
npm install
```

### 2. ุชุดุบูู ุฎุฏูุฉ WhatsApp

```bash
cd server
npm run service
```

ุฃู ููุชุทููุฑ ูุน ุงูุชุญุฏูุซ ุงูุชููุงุฆู:
```bash
npm run service:dev
```

ุงูุณูุฑูุฑ ุณูุนูู ุนูู: **http://localhost:3001**

### 3. ุชุดุบูู ุชุทุจูู Next.js

ูู ูุงูุฐุฉ terminal ุฃุฎุฑู:
```bash
npm run dev
```

ุงูุชุทุจูู ุณูุนูู ุนูู: **http://localhost:3000**

## ๐ ุงูุฑุจุท ูุน WhatsApp

1. ุงูุชุญ ุงููุชุตูุญ ุนูู: `http://localhost:3000/crm/whatsapp-connect`
2. ุงุถุบุท ุนูู "ุจุฏุก ุงูุฑุจุท ูุน ูุงุชุณุงุจ"
3. ุณูุธูุฑ QR Code
4. ุงูุชุญ ูุงุชุณุงุจ ุนูู ูุงุชูู
5. ุงุฐูุจ ุฅูู: **ุงููุงุฆูุฉ (โฎ) โ ุงูุฃุฌูุฒุฉ ุงููุฑุชุจุทุฉ โ ุฑุจุท ุฌูุงุฒ**
6. ุงูุณุญ ุงูู QR Code
7. ุงูุชุธุฑ ุญุชู ููุชูู ุงูุฑุจุท
8. ุณูุชู ุชุญูููู ุชููุงุฆูุงู ูุตูุญุฉ ุงููุญุงุฏุซุงุช

## ๐ฑ ุงููููุฒุงุช

โ **QR Code ุญูููู** ูู WhatsApp Web
โ **ุนุฑุถ ุฌููุน ุงููุญุงุฏุซุงุช** ูุน ุฃุณูุงุก ุงูุนููุงุก
โ **ุชุญุฏูุซุงุช ููุฑูุฉ** ุนุจุฑ WebSocket
โ **ูุง ูููู ุฅุฑุณุงู ุฑุณุงูุฉ** ุฅูุง ููุนููุงุก ุงูุฐูู ุฑุงุณููุง ุฃููุงู
โ **ุญูุธ ุงูุฌูุณุฉ** - ูู ุชุญุชุงุฌ ูููุณุญ ูุฑุฉ ุฃุฎุฑู
โ **ุฅุดุนุงุฑุงุช ููุฑูุฉ** ุนูุฏ ุงุณุชูุงู ุฑุณุงุฆู ุฌุฏูุฏุฉ

## ๐ง API Endpoints

### GET `/api/status`
ุงูุญุตูู ุนูู ุญุงูุฉ ุงูุงุชุตุงู

### GET `/api/qr`
ุงูุญุตูู ุนูู QR Code

### GET `/api/chats`
ุงูุญุตูู ุนูู ุฌููุน ุงููุญุงุฏุซุงุช

### GET `/api/messages/:chatId`
ุงูุญุตูู ุนูู ุฑุณุงุฆู ูุญุงุฏุซุฉ ูุนููุฉ

### POST `/api/send`
ุฅุฑุณุงู ุฑุณุงูุฉ (ููุท ูููุญุงุฏุซุงุช ุงููุดุทุฉ)

```json
{
  "chatId": "966501234567@c.us",
  "message": "ูุฑุญุจุงู"
}
```

### POST `/api/disconnect`
ูุทุน ุงูุงุชุตุงู ูู WhatsApp

## ๐ ุงูุฃูุงู

- ุงูุจูุงูุงุช ุชูุญูุธ ูุญููุงู ูู ูุฌูุฏ `whatsapp-data`
- ูุง ูุชู ุฅุฑุณุงู ุฃู ุจูุงูุงุช ูุฎูุงุฏู ุฎุงุฑุฌูุฉ
- ุงูุงุชุตุงู ูุดูุฑ ูู ุทุฑู ุฅูู ุทุฑู (E2E)

## ๐ ุญู ุงููุดุงูู

### QR Code ูุง ูุธูุฑ
- ุชุฃูุฏ ูู ุชุดุบูู ุณูุฑูุฑ WhatsApp ุนูู port 3001
- ุชุญูู ูู console ููุฃุฎุทุงุก

### ูุง ูููู ุฅุฑุณุงู ุฑุณุงุฆู
- ุชุฃูุฏ ูู ุฃู ุงูุนููู ุฑุงุณูู ุฃููุงู
- ุงููุญุงุฏุซุฉ ูุฌุจ ุฃู ุชููู ููุฌูุฏุฉ ูู ูุงุฆูุฉ ุงูุฏุฑุฏุดุงุช

### ุงูุงุชุตุงู ูููุทุน
- ุชุฃูุฏ ูู ุงุชุตุงู ุงูุฅูุชุฑูุช
- ุชุฃูุฏ ูู ุจูุงุก ูุงุชูู ูุชุตูุงู ุจุงูุฅูุชุฑูุช
- ุฃุนุฏ ุชุดุบูู ุงูุณูุฑูุฑ ูุงูุณุญ QR ูุฑุฉ ุฃุฎุฑู

## ๐ ูููู ุงููููุงุช

```
server/
  โโโ whatsapp-service.js    # ุฎุฏูุฉ WhatsApp ุงูุฑุฆูุณูุฉ
  โโโ package.json           # ููุชุจุงุช ุงูุณูุฑูุฑ
  โโโ whatsapp-data/         # ุจูุงูุงุช ุงูุฌูุณุฉ (ูุญูู)

src/
  โโโ app/
  โ   โโโ api/whatsapp/
  โ   โ   โโโ route.ts       # API endpoints
  โ   โโโ crm/
  โ       โโโ whatsapp/
  โ       โ   โโโ page.tsx   # ุตูุญุฉ ุงููุญุงุฏุซุงุช
  โ       โโโ whatsapp-connect/
  โ           โโโ page.tsx   # ุตูุญุฉ ุงูุฑุจุท
  โโโ components/ui/
      โโโ alert.tsx          # ูููู ุงูุฅุดุนุงุฑุงุช
```

## ๐ ููุฅูุชุงุฌ (Production)

1. ุงุณุชุฎุฏู PM2 ูุฅุฏุงุฑุฉ ุงูุนูููุงุช:
```bash
npm install -g pm2
cd server
pm2 start whatsapp-service.js --name whatsapp
pm2 save
pm2 startup
```

2. ุงุณุชุฎุฏู Nginx ูู reverse proxy
3. ุฃุถู SSL Certificate (https)
4. ุบููุฑ `NEXT_PUBLIC_WHATSAPP_SERVICE_URL` ูู `.env.local`

## ๐ ุงูุฏุนู

ูููุณุงุนุฏุฉ ุฃู ุงูุฅุจูุงุบ ุนู ูุดุงููุ ุชูุงุตู ูุนูุง ุนูู:
- GitHub Issues
- ุงูุจุฑูุฏ ุงูุฅููุชุฑููู

---

Made with โค๏ธ by Al-Modif CRM Team
